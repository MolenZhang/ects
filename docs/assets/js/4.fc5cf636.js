(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{156:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._m(3),s._v(" "),a("p",[s._v("经过对多个框架的对比，最终决定选择 "),a("a",{attrs:{href:"https://iris-go.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("iris"),a("OutboundLink")],1),s._v("。")]),s._v(" "),s._m(4),s._v(" "),a("p",[s._v("命令行采用的是 "),a("a",{attrs:{href:"https://github.com/spf13/cobra",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cobra"),a("OutboundLink")],1),s._v("，这个包提供了比较全面的命令行常用功能。可以看到包括像 Kubernetes、Docker、Etcd、Linkerd、Istio 和 Pouch 这样的项目都在使用它。")]),s._v(" "),s._m(5),s._m(6),s._v(" "),s._m(7),s._m(8),s._v(" "),s._m(9),s._m(10),s._v(" "),s._m(11),s._m(12),s._v(" "),s._m(13),s._v(" "),s._m(14),s._m(15),s._v(" "),a("p",[s._v("这一步主要是将配置信息写入到 ETCD 中")]),s._v(" "),s._m(16),s._m(17),s._v(" "),a("p",[s._v("在打包之前，请参照前端框架的内容，先眼妆依赖，并打包前端资源。")]),s._v(" "),s._m(18),s._m(19),s._v(" "),s._m(20),s._m(21),s._v(" "),a("p",[s._v("前端框架我们采用的是 "),a("code",[s._v("Vue Cli 3.*")]),s._v(" 搭建的 SPA，以及基于 Vue 而开发的组件库 "),a("a",{attrs:{href:"https://element.eleme.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Element-UI"),a("OutboundLink")],1),s._v("。")]),s._v(" "),s._m(22),s._m(23),s._v(" "),s._m(24),s._m(25),s._v(" "),s._m(26)])}),[function(){var s=this.$createElement,n=this._self._c||s;return n("h1",{attrs:{id:"目录结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#目录结构","aria-hidden":"true"}},[this._v("#")]),this._v(" 目录结构")])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"主目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#主目录","aria-hidden":"true"}},[this._v("#")]),this._v(" 主目录")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n├── LICENSE\n├── README.md\n├── cmd "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所有命令")]),s._v("\n├── config "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统配置")]),s._v("\n├── controllers "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 控制器")]),s._v("\n├── docs\n├── ects.example.json "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# JSON 格式配置文件模板")]),s._v("\n├── ects.example.yaml "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# YAML 格式配置文件模板")]),s._v("\n├── go.mod\n├── go.sum\n├── internal "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 内部公用模块")]),s._v("\n├── main.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 入口文件")]),s._v("\n├── models "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据模型")]),s._v("\n├── routes "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# RESTful 路由")]),s._v("\n├── services "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据服务，后期考虑移除")]),s._v("\n├── vendor "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 依赖的包")]),s._v("\n└── web "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Web UI")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" directories, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" files\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"后端框架"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#后端框架","aria-hidden":"true"}},[this._v("#")]),this._v(" 后端框架")])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"命令行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令行","aria-hidden":"true"}},[this._v("#")]),this._v(" 命令行")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("├── cmd\n│   ├── initialize.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化命令")]),s._v("\n│   ├── master.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# master 节点启动命令")]),s._v("\n│   ├── root.go\n│   ├── single.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 单节点启动命令，可以不需要 ETCD")]),s._v("\n│   └── worker.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# worker 节点启动命令")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"路由"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#路由","aria-hidden":"true"}},[this._v("#")]),this._v(" 路由")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("├── routes\n│   ├── auth.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户认证")]),s._v("\n│   ├── dashboard.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 概览")]),s._v("\n│   ├── initialize.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化")]),s._v("\n│   ├── log.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志")]),s._v("\n│   ├── node.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 节点")]),s._v("\n│   ├── pipeline.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 流水线")]),s._v("\n│   ├── profile.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 个人信息")]),s._v("\n│   ├── register.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户注册")]),s._v("\n│   ├── setting.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统设置")]),s._v("\n│   ├── task.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 任务")]),s._v("\n│   └── user.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户管理")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"控制器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#控制器","aria-hidden":"true"}},[this._v("#")]),this._v(" 控制器")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("├── controllers\n│   ├── account "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 账户")]),s._v("\n│   │   └── profile.go\n│   ├── auth "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 认证")]),s._v("\n│   │   └── authentication.go\n│   ├── dashboard "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 概览")]),s._v("\n│   │   └── main.go\n│   ├── initialize "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化")]),s._v("\n│   │   └── main.go\n│   ├── log "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志")]),s._v("\n│   │   └── main.go\n│   ├── node "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 节点")]),s._v("\n│   │   └── main.go\n│   ├── organization "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 组织")]),s._v("\n│   │   └── user.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户")]),s._v("\n│   ├── pipeline "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 流水线")]),s._v("\n│   │   └── main.go\n│   ├── setting "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置")]),s._v("\n│   │   └── main.go\n│   └── task "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 任务")]),s._v("\n│       └── main.go\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模型","aria-hidden":"true"}},[this._v("#")]),this._v(" 模型")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("── models\n│   ├── log.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志")]),s._v("\n│   ├── main.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MySQL 配置信息")]),s._v("\n│   ├── node.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 节点")]),s._v("\n│   ├── password_reset.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 密码重置")]),s._v("\n│   ├── pipeline.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 流水线")]),s._v("\n│   ├── pipeline_node_pivot.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 流水线和节点关联关系模型")]),s._v("\n│   ├── pipeline_record.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 流水线执行记录模型")]),s._v("\n│   ├── pipeline_task_pivot.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 流水线和任务关联模型")]),s._v("\n│   ├── task.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 任务")]),s._v("\n│   ├── task_record.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 任务执行记录")]),s._v("\n│   └── user.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"开发环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开发环境","aria-hidden":"true"}},[this._v("#")]),this._v(" 开发环境")])},function(){var s=this.$createElement,n=this._self._c||s;return n("ul",[n("li",[this._v("MySQL 8.0.11")]),this._v(" "),n("li",[this._v("ETCD 3.3.12")])])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 MySQL")]),s._v("\n$ docker run -d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --name mysql "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("your-secret-pw mysql:8.0.11 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --character-set-server"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --collation-server"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4_unicode_ci\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 ETCD")]),s._v("\n$ docker run -d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --name etcd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2379")]),s._v(":2379 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2380")]),s._v(":2380 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --volume"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/private/var/local/etcd/data:/data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    gcr.io/etcd-development/etcd:v3.3.12 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    /usr/local/bin/etcd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --name etcd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --data-dir /data "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --listen-client-urls http://0.0.0.0:2379 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --advertise-client-urls http://0.0.0.0:2379 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --listen-peer-urls http://0.0.0.0:2380 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --initial-advertise-peer-urls http://0.0.0.0:2380 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --initial-cluster "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("etcd")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://0.0.0.0:2380 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --initial-cluster-token betterde "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --initial-cluster-state new\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"初始化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化","aria-hidden":"true"}},[this._v("#")]),this._v(" 初始化")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ go run main.go init -h\nRun initialize elastic "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" system "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("\n\nUsage:\n  ects init "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nExamples:\nects init\n\nFlags:\n  -e, --email string   Set admin email "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是采用配置文件方式初始化，则需要提供管理员邮箱")]),s._v("\n  -h, --help           "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" init\n  -m, --mode string    Set initialize mode with web ui or json, yaml config "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"web"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 支持的模式有 web、json、yaml")]),s._v("\n  -n, --name string    Set admin name "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是采用配置文件方式初始化，则需要提供管理员用户名")]),s._v("\n  -P, --pass string    Set admin pass "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是采用配置文件方式初始化，则需要提供管理员密码")]),s._v("\n  -p, --path string    Set config "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是采用配置文件方式初始化，则需要提供配置文件路径")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"打包前端资源到二进制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打包前端资源到二进制","aria-hidden":"true"}},[this._v("#")]),this._v(" 打包前端资源到二进制")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install go-bindata")]),s._v("\n$ go get -u github.com/shuLhan/go-bindata/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打包静态资源")]),s._v("\n$ go-bindata -pkg web -o web/bindata.go web/dist/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"启动服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动服务")])},function(){var s=this.$createElement,n=this._self._c||s;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[this._v("$ go run main.go master\n")])]),this._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[this._v("1")]),n("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"前端框架"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前端框架","aria-hidden":"true"}},[this._v("#")]),this._v(" 前端框架")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n├── README.md\n├── babel.config.js\n├── bindata.go "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前端静态资源打包成二进制后的文件")]),s._v("\n├── dist "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行 yarn build 后的输出目录")]),s._v("\n├── docs "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目文档目录，采用 Vuepress 搭建")]),s._v("\n│   ├── README.md\n│   ├── developer\n│   │   ├── README.md\n│   │   └── api.md\n│   ├── introduction\n│   │   ├── README.md\n│   │   ├── architecture.md\n│   │   ├── configuration.md\n│   │   ├── dependencies.md\n│   │   ├── managerment.md\n│   │   ├── more.md\n│   │   └── services.md\n│   └── version\n│       └── README.md\n├── package.json\n├── public\n│   ├── favicon.ico\n│   └── index.html\n├── src\n│   ├── App.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根组件")]),s._v("\n│   ├── apis "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与后端交互的 API")]),s._v("\n│   │   ├── index.js\n│   │   └── modules "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# API 模块")]),s._v("\n│   ├── assets "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前端静态资源")]),s._v("\n│   │   └── styles\n│   ├── components "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义公共组件")]),s._v("\n│   │   ├── Collapse.vue\n│   │   └── CronExpression.vue\n│   ├── element-variables.scss\n│   ├── entries "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 入口文件")]),s._v("\n│   │   ├── index.js\n│   │   └── initialize.js\n│   ├── language "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本地化")]),s._v("\n│   │   ├── en.js\n│   │   └── index.js\n│   ├── layouts "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 页面布局")]),s._v("\n│   │   ├── Backend.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录后的布局")]),s._v("\n│   │   └── Guest.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 未登录时的布局")]),s._v("\n│   ├── plugins "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Vue cli 3.* 的插件目录")]),s._v("\n│   │   ├── axios.js "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发起 XHR 请求的插件")]),s._v("\n│   │   └── element.js "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Element-UI 插件")]),s._v("\n│   ├── router\n│   │   └── index.js "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前端路由")]),s._v("\n│   ├── store "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vuex 目录")]),s._v("\n│   │   ├── actions.js\n│   │   ├── index.js\n│   │   ├── modules "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模块")]),s._v("\n│   │   ├── mutations.js\n│   │   └── types.js\n│   └── views "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模块页面")]),s._v("\n│       ├── About.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关于")]),s._v("\n│       ├── Dashboard.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 概览")]),s._v("\n│       ├── Initialize.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化配置")]),s._v("\n│       ├── Log.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志查询")]),s._v("\n│       ├── Node.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 节点管理")]),s._v("\n│       ├── NotFound.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 404 所有前端为定义的路由将跳转至该页面")]),s._v("\n│       ├── Pipeline.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 流水线管理")]),s._v("\n│       ├── Setting.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统设置")]),s._v("\n│       ├── SignIn.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户登录")]),s._v("\n│       ├── Task.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 任务管理")]),s._v("\n│       └── User.vue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统用户管理")]),s._v("\n├── vue.config.js "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目配置，代理、HTTPS")]),s._v("\n├── yarn-error.log\n└── yarn.lock\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" directories, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),s._v(" files\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"安装依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装依赖")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" web\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" build\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h3",{attrs:{id:"项目配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 项目配置")])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[this._v("前端项目的打包配置都在 "),n("code",[this._v("web/vue.config.js")]),this._v(" 文件中，其中 "),n("code",[this._v("devServer")]),this._v(" 配置根据自己的需要进行设置。")])}],!1,null,null,null);n.default=e.exports}}]);